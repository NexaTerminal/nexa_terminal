import React from 'react';
import BaseDocumentPage from '../../../../components/documents/BaseDocumentPage';
import FormField, { ConditionalField } from '../../../../components/forms/FormField';
import { saasAgreementConfig, getStepFields } from '../../../../config/documents/saasAgreement';
import styles from '../../../../styles/terminal/documents/DocumentGeneration.module.css';

/**
 * SaaS Agreement Page
 * Uses the reusable base components and configuration-driven approach
 * This page generates professional Software as a Service agreements in Macedonian
 */
const SaasAgreementPage = () => {

  // Dynamic placeholder examples for service description based on selected service
  const getServiceDescriptionPlaceholder = (serviceName) => {
    const placeholders = {
      'CRM –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞': '–û–±–ª–∞—á–µ–Ω —Å–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –æ–¥–Ω–æ—Å–∏ —Å–æ –∫–ª–∏–µ–Ω—Ç–∏ –∫–æ—ò –≤–∫–ª—É—á—É–≤–∞ –º–æ–¥—É–ª–∏ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∞, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥, –ø–æ–¥–¥—Ä—à–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞ –Ω–∞ –ø—Ä–æ—Ü–µ—Å–∏ –∏ –¥–µ—Ç–∞–ª–Ω–∏ –∏–∑–≤–µ—à—Ç–∞–∏ –∑–∞ –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏.',
      'ERP –°–∏—Å—Ç–µ–º': '–ò–Ω—Ç–µ–≥—Ä–∏—Ä–∞–Ω –æ–±–ª–∞—á–µ–Ω —Å–∏—Å—Ç–µ–º –∑–∞ –ø–ª–∞–Ω–∏—Ä–∞—ö–µ –Ω–∞ –¥–µ–ª–æ–≤–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏ —Å–æ –º–æ–¥—É–ª–∏ –∑–∞ —Ñ–∏–Ω–∞–Ω—Å–∏–∏, —Å–º–µ—Ç–∫–æ–≤–æ–¥—Å—Ç–≤–æ, –Ω–∞–±–∞–≤–∫–∏, –ø—Ä–æ–¥–∞–∂–±–∏, —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –∑–∞–ª–∏—Ö–∏, —á–æ–≤–µ—á–∫–∏ —Ä–µ—Å—É—Ä—Å–∏ –∏ –ø—Ä–æ–µ–∫—Ç–Ω–æ –º–µ–Ω–∞—ü–∏—Ä–∞—ö–µ.',
      '–°–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –ø—Ä–æ–µ–∫—Ç–∏': '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ –ø–ª–∞–Ω–∏—Ä–∞—ö–µ, —Å–ª–µ–¥–µ—ö–µ –∏ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –ø—Ä–æ–µ–∫—Ç–∏ –∫–æ—ò–∞ –≤–∫–ª—É—á—É–≤–∞ Gantt –≥—Ä–∞—Ñ–∏—Ü–∏, task management, —Ç–∏–º—Å–∫–∞ —Å–æ—Ä–∞–±–æ—Ç–∫–∞, time tracking –∏ –∏–∑–≤–µ—à—Ç–∞–∏ –∑–∞ –Ω–∞–ø—Ä–µ–¥–æ–∫.',
      '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ e-Commerce': '–ö–æ–º–ø–ª–µ—Ç–Ω–∞ –æ–Ω–ª–∞—ò–Ω –ø—Ä–æ–¥–∞–≤–Ω–∏—Ü–∞ —Å–æ —Å–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏, –ø—Ä–æ—Ü–µ—Å–∏—Ä–∞—ö–µ –Ω–∞ –Ω–∞—Ä–∞—á–∫–∏, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—ò–∞ —Å–æ –ø–ª–∞—Ç–Ω–∏ —Å–∏—Å—Ç–µ–º–∏, —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –∑–∞–ª–∏—Ö–∏ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∞–ª–∞—Ç–∫–∏.',
      '–°–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –¥–æ–∫—É–º–µ–Ω—Ç–∏': '–û–±–ª–∞—á–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ —á—É–≤–∞—ö–µ, –æ—Ä–≥–∞–Ω–∏–∑–∏—Ä–∞—ö–µ, –≤–µ—Ä–∑–∏–æ–Ω–∏—Ä–∞—ö–µ –∏ —Å–ø–æ–¥–µ–ª—É–≤–∞—ö–µ –Ω–∞ –¥–µ–ª–æ–≤–Ω–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏ —Å–æ –Ω–∞–ø—Ä–µ–¥–Ω–∞ –ø—Ä–µ—Ç—Ä–∞–≥–∞, –∫–æ–Ω—Ç—Ä–æ–ª–∞ –Ω–∞ –ø—Ä–∏—Å—Ç–∞–ø –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞ –Ω–∞ —Ä–∞–±–æ—Ç–Ω–∏ –ø—Ä–æ—Ü–µ—Å–∏.',
      'HR –°–æ—Ñ—Ç–≤–µ—Ä': '–°–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ —á–æ–≤–µ—á–∫–∏ —Ä–µ—Å—É—Ä—Å–∏ –∫–æ—ò –≤–∫–ª—É—á—É–≤–∞ –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–∞ –Ω–∞ –≤—Ä–∞–±–æ—Ç–µ–Ω–∏, –ø—Ä–∏—ò–∞–≤–∏/–æ–¥—ò–∞–≤–∏, –≥–æ–¥–∏—à–Ω–∏ –æ–¥–º–æ—Ä–∏, –ø–ª–∞—Ç–∏, –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å–∏, —Ä–µ–≥—Ä—É—Ç–∞—Ü–∏—ò–∞ –∏ –æ–±—É–∫–∏.',
      '–°–º–µ—Ç–∫–æ–≤–æ–¥—Å—Ç–≤–µ–Ω —Å–æ—Ñ—Ç–≤–µ—Ä': '–û–±–ª–∞—á–µ–Ω —Å–º–µ—Ç–∫–æ–≤–æ–¥—Å—Ç–≤–µ–Ω —Å–∏—Å—Ç–µ–º —Å–æ –º–æ–¥—É–ª–∏ –∑–∞ –∫–Ω–∏–≥–æ–≤–æ–¥—Å—Ç–≤–æ, —Ñ–∞–∫—Ç—É—Ä–∏—Ä–∞—ö–µ, –∏–∑–≤–µ—à—Ç–∞–∏, –î–î–í –µ–≤–∏–¥–µ–Ω—Ü–∏—ò–∞, –±–∞–Ω–∫–∞—Ä—Å–∫–æ —É—Å–æ–≥–ª–∞—Å—É–≤–∞—ö–µ –∏ —Ñ–∏–Ω–∞–Ω—Å–∏—Å–∫–∏ –∞–Ω–∞–ª–∏–∑–∏ —Å–æ–≥–ª–∞—Å–Ω–æ –º–∞–∫–µ–¥–æ–Ω—Å–∫–∏—Ç–µ —Å–º–µ—Ç–∫–æ–≤–æ–¥—Å—Ç–≤–µ–Ω–∏ —Å—Ç–∞–Ω–¥–∞—Ä–¥–∏.',
      '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞': '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞ –Ω–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤–∫–ª—É—á—É–≤–∞—ò—ú–∏ email –∫–∞–º–ø–∞—ö–∏, lead nurturing, scoring, —Å–æ—Ü–∏—ò–∞–ª–Ω–∏ –º–µ–¥–∏—É–º–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—ò–∞ —Å–æ CRM —Å–∏—Å—Ç–µ–º–∏.',
      '–°–æ—Ñ—Ç–≤–µ—Ä –∑–∞ –ø–æ–¥–¥—Ä—à–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏': 'Help Desk —Å–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –±–∞—Ä–∞—ö–∞, —Ç–∏–∫–µ—Ç —Å–∏—Å—Ç–µ–º, knowledge base, live chat, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞ –Ω–∞ –æ–¥–≥–æ–≤–æ—Ä–∏ –∏ –∏–∑–≤–µ—à—Ç–∞–∏ –∑–∞ –∑–∞–¥–æ–≤–æ–ª—Å—Ç–≤–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∏—Ç–µ.',
      '–°–∏—Å—Ç–µ–º –∑–∞ email –º–∞—Ä–∫–µ—Ç–∏–Ω–≥': '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ, –∏—Å–ø—Ä–∞—ú–∞—ö–µ –∏ —Å–ª–µ–¥–µ—ö–µ –Ω–∞ email –∫–∞–º–ø–∞—ö–∏ —Å–æ –Ω–∞–ø—Ä–µ–¥–Ω–∏ —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏–∏, A/B —Ç–µ—Å—Ç–∏—Ä–∞—ö–µ, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–∞–Ω–∏ —Å–µ–∫–≤–µ–Ω—Ü–∏ –∏ –¥–µ—Ç–∞–ª–Ω–∏ –∏–∑–≤–µ—à—Ç–∞–∏ –∑–∞ –æ—Ç–≤–æ—Ä–µ–Ω–æ—Å—Ç –∏ –∫–ª–∏–∫–æ–≤–∏.',
      '–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞ –æ–Ω–ª–∞—ò–Ω –æ–±—É–∫–∞': 'LMS (Learning Management System) –∑–∞ –∫—Ä–µ–∏—Ä–∞—ö–µ –∏ –¥–∏—Å—Ç—Ä–∏–±—É—Ü–∏—ò–∞ –Ω–∞ –æ–Ω–ª–∞—ò–Ω –∫—É—Ä—Å–µ–≤–∏, —Å–ª–µ–¥–µ—ö–µ –Ω–∞ –Ω–∞–ø—Ä–µ–¥–æ–∫, —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∏, –∫–≤–∏–∑–æ–≤–∏, –≤–∏–¥–µ–æ —Å–æ–¥—Ä–∂–∏–Ω–∏ –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏ –º–∞—Ç–µ—Ä–∏—ò–∞–ª–∏.',
      '–°–∏—Å—Ç–µ–º –∑–∞ —É–ø—Ä–∞–≤—É–≤–∞—ö–µ —Å–æ –∑–∞–ª–∏—Ö–∏': '–û–±–ª–∞—á–µ–Ω —Å–∏—Å—Ç–µ–º –∑–∞ —Å–ª–µ–¥–µ—ö–µ –Ω–∞ –∑–∞–ª–∏—Ö–∏ –≤–æ —Ä–µ–∞–ª–Ω–æ –≤—Ä–µ–º–µ, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—ò–∞ –Ω–∞ –Ω–∞—Ä–∞—á–∫–∏, –±–∞—Ä–∫–æ–¥ —Å–∫–µ–Ω–∏—Ä–∞—ö–µ, –º—É–ª—Ç–∏–ª–æ–∫–∞—Ü–∏—Å–∫–∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—ò–∞ —Å–æ e-commerce –∏ —Å–º–µ—Ç–∫–æ–≤–æ–¥—Å—Ç–≤–µ–Ω–∏ —Å–∏—Å—Ç–µ–º–∏.',
      '–î—Ä—É–≥–æ': '–û–ø–∏—à–µ—Ç–µ —ò–∞ —Å–æ—Ñ—Ç–≤–µ—Ä—Å–∫–∞—Ç–∞ —É—Å–ª—É–≥–∞ –∫–æ—ò–∞ —ò–∞ –Ω—É–¥–∏—Ç–µ –∏–ª–∏ –∫–æ—Ä–∏—Å—Ç–∏—Ç–µ - –≤–∫–ª—É—á–µ—Ç–µ –≥–ª–∞–≤–Ω–∏ –º–æ–¥—É–ª–∏, —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏ –∏ —Ç–µ—Ö–Ω–∏—á–∫–∏ –∫–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏.'
    };

    return placeholders[serviceName] || '–û–ø–∏—à–µ—Ç–µ —ò–∞ SaaS —É—Å–ª—É–≥–∞—Ç–∞ —Å–æ –¥–µ—Ç–∞–ª–µ–Ω –æ–ø–∏—Å –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç–∏—Ç–µ, –º–æ–¥—É–ª–∏—Ç–µ –∏ –º–æ–∂–Ω–æ—Å—Ç–∏—Ç–µ —à—Ç–æ –≥–∏ –Ω—É–¥–∏.';
  };

  /**
   * Custom step content renderer
   * This is the only document-specific logic needed
   */
  const renderStepContent = ({ currentStep, formData, handleInputChange, errors, isGenerating }) => {
    const stepFields = getStepFields(currentStep);
    const stepConfig = saasAgreementConfig.steps.find(s => s.id === currentStep);

    // Map fields with dynamic placeholder for serviceDescription
    const mappedFields = stepFields.map(field => {
      if (field.name === 'serviceDescription') {
        return {
          ...field,
          placeholder: getServiceDescriptionPlaceholder(formData.serviceName)
        };
      }
      return field;
    });

    return (
      <div className={styles['form-section']}>
        <h3>{stepConfig.title}</h3>
        {stepConfig.description && <p>{stepConfig.description}</p>}

        {/* Add informational note for step 1 */}
        {currentStep === 1 && (
          <div className={styles['info-box']} style={{
            backgroundColor: '#e3f2fd',
            border: '1px solid #90caf9',
            borderRadius: '6px',
            padding: '12px',
            marginBottom: '20px',
            fontSize: '14px'
          }}>
            <strong>üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–∞ SaaS –¥–æ–≥–æ–≤–æ—Ä–æ—Ç:</strong>
            <ul style={{ margin: '8px 0', paddingLeft: '20px' }}>
              <li>SaaS –¥–æ–≥–æ–≤–æ—Ä–æ—Ç —Ä–µ–≥—É–ª–∏—Ä–∞ –∫–æ—Ä–∏—Å—Ç–µ—ö–µ –Ω–∞ —Å–æ—Ñ—Ç–≤–µ—Ä—Å–∫–∞ —É—Å–ª—É–≥–∞ –ø—Ä–µ–∫—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</li>
              <li>–î–æ–≥–æ–≤–æ—Ä–æ—Ç –≥–∏ –¥–µ—Ñ–∏–Ω–∏—Ä–∞ –ø—Ä–∞–≤–∞—Ç–∞ –∏ –æ–±–≤—Ä—Å–∫–∏—Ç–µ –Ω–∞ –¥–∞–≤–∞—Ç–µ–ª–æ—Ç –∏ –∫–ª–∏–µ–Ω—Ç–æ—Ç</li>
              <li>–í–∞–∂–Ω–æ –µ –ø—Ä–µ—Ü–∏–∑–Ω–æ –¥–∞ —Å–µ –¥–µ—Ñ–∏–Ω–∏—Ä–∞–∞—Ç –Ω–∏–≤–æ–∞—Ç–∞ –Ω–∞ —É—Å–ª—É–≥–∞ (SLA) –∏ —Ç–µ—Ö–Ω–∏—á–∫–∞—Ç–∞ –ø–æ–¥–¥—Ä—à–∫–∞</li>
            </ul>
          </div>
        )}

        {/* Add informational note for step 5 */}
        {currentStep === 5 && (
          <div className={styles['info-box']} style={{
            backgroundColor: '#f8d7da',
            border: '1px solid #f5c6cb',
            borderRadius: '6px',
            padding: '12px',
            marginBottom: '20px',
            fontSize: '14px'
          }}>
            <strong>‚öôÔ∏è –ù–∏–≤–æ–∞ –Ω–∞ —É—Å–ª—É–≥–∞ (SLA):</strong>
            <ul style={{ margin: '8px 0', paddingLeft: '20px' }}>
              <li>–°–∏—Å—Ç–µ–º—Å–∫–∞—Ç–∞ –¥–æ—Å—Ç–∞–ø–Ω–æ—Å—Ç –æ–¥ 98% –µ –∏–Ω–¥—É—Å—Ç—Ä–∏—Å–∫–∏ —Å—Ç–∞–Ω–¥–∞—Ä–¥ –∑–∞ SaaS —É—Å–ª—É–≥–∏</li>
              <li>–û—Ç–∫–∞–∑–Ω–∏–æ—Ç —Ä–æ–∫ –æ–¥ 30 –¥–µ–Ω–∞ –µ –≤–æ–æ–±–∏—á–∞–µ–Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–∞ –∑–∞ —Ñ–ª–µ–∫—Å–∏–±–∏–ª–Ω–æ—Å—Ç</li>
              <li>–î–µ—Ñ–∏–Ω–∏—Ä–∞—ò—Ç–µ —ò–∞—Å–Ω–∏ —É—Å–ª–æ–≤–∏ –∑–∞ –ø–æ–¥–¥—Ä—à–∫–∞ –∏ –æ–¥—Ä–∂—É–≤–∞—ö–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–æ—Ç</li>
            </ul>
          </div>
        )}

        {mappedFields.map(field => (
          <React.Fragment key={field.name}>
            {/* Regular fields */}
            {!field.condition && (
              <FormField
                field={field}
                value={formData[field.name]}
                onChange={handleInputChange}
                error={errors[field.name]}
                disabled={isGenerating}
                formData={formData}
              />
            )}

            {/* Conditional fields */}
            {field.condition && (
              <ConditionalField condition={field.condition} formData={formData}>
                <FormField
                  field={field}
                  value={formData[field.name]}
                  onChange={handleInputChange}
                  error={errors[field.name]}
                  disabled={isGenerating}
                  formData={formData}
                />
              </ConditionalField>
            )}
          </React.Fragment>
        ))}
      </div>
    );
  };

  return (
    <BaseDocumentPage
      config={saasAgreementConfig}
      renderStepContent={renderStepContent}
      title="–î–æ–≥–æ–≤–æ—Ä –∑–∞ —Å–æ—Ñ—Ç–≤–µ—Ä –∫–∞–∫–æ —É—Å–ª—É–≥–∞ (SaaS Agreement)"
      description="–ü–æ–ø–æ–ª–Ω–µ—Ç–µ –≥–∏ –ø–æ—Ç—Ä–µ–±–Ω–∏—Ç–µ –ø–æ–¥–∞—Ç–æ—Ü–∏ –∑–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞—ö–µ –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –¥–æ–≥–æ–≤–æ—Ä –∑–∞ –æ–±–µ–∑–±–µ–¥—É–≤–∞—ö–µ –∏–ª–∏ –∫–æ—Ä–∏—Å—Ç–µ—ö–µ –Ω–∞ —Å–æ—Ñ—Ç–≤–µ—Ä—Å–∫–∞ —É—Å–ª—É–≥–∞ –ø—Ä–µ–∫—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç"
    />
  );
};

export default SaasAgreementPage;
